"use strict";var cov_21me65nwnd=function(){var path="/home/mxaba/Desktop/My-Meal-App-develop/server/src/controllers/catererControllers.js";var hash="8f6168526d2c269e07b139d29b9f8c1365c5534e";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/mxaba/Desktop/My-Meal-App-develop/server/src/controllers/catererControllers.js",statementMap:{"0":{start:{line:3,column:77},end:{line:3,column:175}},"1":{start:{line:3,column:94},end:{line:3,column:107}},"2":{start:{line:3,column:121},end:{line:3,column:131}},"3":{start:{line:3,column:151},end:{line:3,column:165}},"4":{start:{line:3,column:166},end:{line:3,column:173}},"5":{start:{line:3,column:176},end:{line:3,column:263}},"6":{start:{line:3,column:193},end:{line:3,column:208}},"7":{start:{line:3,column:218},end:{line:3,column:261}},"8":{start:{line:5,column:33},end:{line:5,column:387}},"9":{start:{line:5,column:65},end:{line:5,column:69}},"10":{start:{line:5,column:78},end:{line:5,column:87}},"11":{start:{line:5,column:89},end:{line:5,column:384}},"12":{start:{line:5,column:147},end:{line:5,column:167}},"13":{start:{line:5,column:193},end:{line:5,column:264}},"14":{start:{line:5,column:290},end:{line:5,column:360}},"15":{start:{line:5,column:363},end:{line:5,column:380}},"16":{start:{line:7,column:50},end:{line:7,column:151}},"17":{start:{line:7,column:92},end:{line:7,column:149}},"18":{start:{line:9,column:44},end:{line:9,column:315}},"19":{start:{line:9,column:57},end:{line:9,column:58}},"20":{start:{line:9,column:102},end:{line:9,column:110}},"21":{start:{line:9,column:112},end:{line:9,column:167}},"22":{start:{line:9,column:168},end:{line:9,column:199}},"23":{start:{line:9,column:200},end:{line:9,column:254}},"24":{start:{line:9,column:227},end:{line:9,column:254}},"25":{start:{line:9,column:255},end:{line:9,column:313}},"26":{start:{line:11,column:62},end:{line:11,column:131}},"27":{start:{line:11,column:78},end:{line:11,column:131}},"28":{start:{line:11,column:132},end:{line:11,column:193}},"29":{start:{line:11,column:149},end:{line:11,column:193}},"30":{start:{line:11,column:194},end:{line:11,column:213}},"31":{start:{line:13,column:10},end:{line:13,column:33}},"32":{start:{line:15,column:13},end:{line:15,column:30}},"33":{start:{line:18,column:13},end:{line:18,column:40}},"34":{start:{line:22,column:0},end:{line:184,column:3}},"35":{start:{line:24,column:4},end:{line:24,column:45}},"36":{start:{line:27,column:2},end:{line:181,column:6}},"37":{start:{line:30,column:29},end:{line:87,column:9}},"38":{start:{line:35,column:8},end:{line:86,column:37}},"39":{start:{line:36,column:10},end:{line:85,column:11}},"40":{start:{line:37,column:12},end:{line:84,column:13}},"41":{start:{line:39,column:16},end:{line:39,column:34}},"42":{start:{line:40,column:16},end:{line:40,column:116}},"43":{start:{line:41,column:16},end:{line:41,column:34}},"44":{start:{line:42,column:16},end:{line:42,column:49}},"45":{start:{line:45,column:16},end:{line:45,column:37}},"46":{start:{line:46,column:16},end:{line:46,column:34}},"47":{start:{line:47,column:16},end:{line:51,column:19}},"48":{start:{line:54,column:16},end:{line:54,column:40}},"49":{start:{line:55,column:16},end:{line:59,column:18}},"50":{start:{line:60,column:16},end:{line:65,column:19}},"51":{start:{line:66,column:16},end:{line:71,column:20}},"52":{start:{line:74,column:16},end:{line:74,column:35}},"53":{start:{line:75,column:16},end:{line:75,column:51}},"54":{start:{line:76,column:16},end:{line:79,column:20}},"55":{start:{line:83,column:16},end:{line:83,column:39}},"56":{start:{line:90,column:8},end:{line:90,column:55}},"57":{start:{line:93,column:6},end:{line:93,column:29}},"58":{start:{line:98,column:26},end:{line:173,column:9}},"59":{start:{line:103,column:8},end:{line:172,column:38}},"60":{start:{line:104,column:10},end:{line:171,column:11}},"61":{start:{line:105,column:12},end:{line:170,column:13}},"62":{start:{line:107,column:16},end:{line:107,column:35}},"63":{start:{line:108,column:16},end:{line:108,column:96}},"64":{start:{line:109,column:16},end:{line:109,column:35}},"65":{start:{line:110,column:16},end:{line:114,column:19}},"66":{start:{line:117,column:16},end:{line:117,column:41}},"67":{start:{line:119,column:16},end:{line:122,column:17}},"68":{start:{line:120,column:18},end:{line:120,column:37}},"69":{start:{line:121,column:18},end:{line:121,column:24}},"70":{start:{line:124,column:16},end:{line:124,column:74}},"71":{start:{line:127,column:16},end:{line:127,column:35}},"72":{start:{line:128,column:16},end:{line:128,column:66}},"73":{start:{line:131,column:16},end:{line:131,column:40}},"74":{start:{line:133,column:16},end:{line:136,column:17}},"75":{start:{line:134,column:18},end:{line:134,column:38}},"76":{start:{line:135,column:18},end:{line:135,column:24}},"77":{start:{line:138,column:16},end:{line:138,column:70}},"78":{start:{line:141,column:16},end:{line:145,column:18}},"79":{start:{line:146,column:16},end:{line:151,column:19}},"80":{start:{line:152,column:16},end:{line:157,column:20}},"81":{start:{line:160,column:16},end:{line:160,column:36}},"82":{start:{line:161,column:16},end:{line:161,column:53}},"83":{start:{line:162,column:16},end:{line:165,column:20}},"84":{start:{line:169,column:16},end:{line:169,column:40}},"85":{start:{line:176,column:8},end:{line:176,column:52}},"86":{start:{line:179,column:6},end:{line:179,column:26}},"87":{start:{line:183,column:2},end:{line:183,column:27}},"88":{start:{line:186,column:0},end:{line:186,column:35}}},fnMap:{"0":{name:"asyncGeneratorStep",decl:{start:{line:3,column:9},end:{line:3,column:27}},loc:{start:{line:3,column:75},end:{line:3,column:265}},line:3},"1":{name:"_asyncToGenerator",decl:{start:{line:5,column:9},end:{line:5,column:26}},loc:{start:{line:5,column:31},end:{line:5,column:389}},line:5},"2":{name:"(anonymous_2)",decl:{start:{line:5,column:40},end:{line:5,column:41}},loc:{start:{line:5,column:52},end:{line:5,column:386}},line:5},"3":{name:"(anonymous_3)",decl:{start:{line:5,column:108},end:{line:5,column:109}},loc:{start:{line:5,column:135},end:{line:5,column:382}},line:5},"4":{name:"_next",decl:{start:{line:5,column:178},end:{line:5,column:183}},loc:{start:{line:5,column:191},end:{line:5,column:266}},line:5},"5":{name:"_throw",decl:{start:{line:5,column:276},end:{line:5,column:282}},loc:{start:{line:5,column:288},end:{line:5,column:362}},line:5},"6":{name:"_classCallCheck",decl:{start:{line:7,column:9},end:{line:7,column:24}},loc:{start:{line:7,column:48},end:{line:7,column:153}},line:7},"7":{name:"_defineProperties",decl:{start:{line:9,column:9},end:{line:9,column:26}},loc:{start:{line:9,column:42},end:{line:9,column:317}},line:9},"8":{name:"_createClass",decl:{start:{line:11,column:9},end:{line:11,column:21}},loc:{start:{line:11,column:60},end:{line:11,column:215}},line:11},"9":{name:"(anonymous_9)",decl:{start:{line:22,column:0},end:{line:22,column:1}},loc:{start:{line:22,column:12},end:{line:184,column:1}},line:22},"10":{name:"CatererController",decl:{start:{line:23,column:11},end:{line:23,column:28}},loc:{start:{line:23,column:31},end:{line:25,column:3}},line:23},"11":{name:"(anonymous_11)",decl:{start:{line:29,column:11},end:{line:29,column:12}},loc:{start:{line:29,column:23},end:{line:94,column:5}},line:29},"12":{name:"_callee",decl:{start:{line:32,column:39},end:{line:32,column:46}},loc:{start:{line:32,column:57},end:{line:87,column:7}},line:32},"13":{name:"_callee$",decl:{start:{line:35,column:48},end:{line:35,column:56}},loc:{start:{line:35,column:67},end:{line:86,column:9}},line:35},"14":{name:"registerCaterer",decl:{start:{line:89,column:15},end:{line:89,column:30}},loc:{start:{line:89,column:40},end:{line:91,column:7}},line:89},"15":{name:"(anonymous_15)",decl:{start:{line:97,column:11},end:{line:97,column:12}},loc:{start:{line:97,column:23},end:{line:180,column:5}},line:97},"16":{name:"_callee2",decl:{start:{line:100,column:39},end:{line:100,column:47}},loc:{start:{line:100,column:58},end:{line:173,column:7}},line:100},"17":{name:"_callee2$",decl:{start:{line:103,column:48},end:{line:103,column:57}},loc:{start:{line:103,column:69},end:{line:172,column:9}},line:103},"18":{name:"loginCaterer",decl:{start:{line:175,column:15},end:{line:175,column:27}},loc:{start:{line:175,column:38},end:{line:177,column:7}},line:175}},branchMap:{"0":{loc:{start:{line:3,column:176},end:{line:3,column:263}},type:"if",locations:[{start:{line:3,column:176},end:{line:3,column:263}},{start:{line:3,column:176},end:{line:3,column:263}}],line:3},"1":{loc:{start:{line:7,column:50},end:{line:7,column:151}},type:"if",locations:[{start:{line:7,column:50},end:{line:7,column:151}},{start:{line:7,column:50},end:{line:7,column:151}}],line:7},"2":{loc:{start:{line:9,column:136},end:{line:9,column:166}},type:"binary-expr",locations:[{start:{line:9,column:136},end:{line:9,column:157}},{start:{line:9,column:161},end:{line:9,column:166}}],line:9},"3":{loc:{start:{line:9,column:200},end:{line:9,column:254}},type:"if",locations:[{start:{line:9,column:200},end:{line:9,column:254}},{start:{line:9,column:200},end:{line:9,column:254}}],line:9},"4":{loc:{start:{line:11,column:62},end:{line:11,column:131}},type:"if",locations:[{start:{line:11,column:62},end:{line:11,column:131}},{start:{line:11,column:62},end:{line:11,column:131}}],line:11},"5":{loc:{start:{line:11,column:132},end:{line:11,column:193}},type:"if",locations:[{start:{line:11,column:132},end:{line:11,column:193}},{start:{line:11,column:132},end:{line:11,column:193}}],line:11},"6":{loc:{start:{line:37,column:12},end:{line:84,column:13}},type:"switch",locations:[{start:{line:38,column:14},end:{line:42,column:49}},{start:{line:44,column:14},end:{line:51,column:19}},{start:{line:53,column:14},end:{line:71,column:20}},{start:{line:73,column:14},end:{line:79,column:20}},{start:{line:81,column:14},end:{line:81,column:22}},{start:{line:82,column:14},end:{line:83,column:39}}],line:37},"7":{loc:{start:{line:105,column:12},end:{line:170,column:13}},type:"switch",locations:[{start:{line:106,column:14},end:{line:114,column:19}},{start:{line:116,column:14},end:{line:124,column:74}},{start:{line:126,column:14},end:{line:128,column:66}},{start:{line:130,column:14},end:{line:138,column:70}},{start:{line:140,column:14},end:{line:157,column:20}},{start:{line:159,column:14},end:{line:165,column:20}},{start:{line:167,column:14},end:{line:167,column:22}},{start:{line:168,column:14},end:{line:169,column:40}}],line:105},"8":{loc:{start:{line:119,column:16},end:{line:122,column:17}},type:"if",locations:[{start:{line:119,column:16},end:{line:122,column:17}},{start:{line:119,column:16},end:{line:122,column:17}}],line:119},"9":{loc:{start:{line:133,column:16},end:{line:136,column:17}},type:"if",locations:[{start:{line:133,column:16},end:{line:136,column:17}},{start:{line:133,column:16},end:{line:136,column:17}}],line:133}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0,0,0],"7":[0,0,0,0,0,0,0,0],"8":[0,0],"9":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){cov_21me65nwnd.f[0]++;cov_21me65nwnd.s[0]++;try{var info=(cov_21me65nwnd.s[1]++,gen[key](arg));var value=(cov_21me65nwnd.s[2]++,info.value);}catch(error){cov_21me65nwnd.s[3]++;reject(error);cov_21me65nwnd.s[4]++;return;}cov_21me65nwnd.s[5]++;if(info.done){cov_21me65nwnd.b[0][0]++;cov_21me65nwnd.s[6]++;resolve(value);}else{cov_21me65nwnd.b[0][1]++;cov_21me65nwnd.s[7]++;Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){cov_21me65nwnd.f[1]++;cov_21me65nwnd.s[8]++;return function(){cov_21me65nwnd.f[2]++;var self=(cov_21me65nwnd.s[9]++,this),args=(cov_21me65nwnd.s[10]++,arguments);cov_21me65nwnd.s[11]++;return new Promise(function(resolve,reject){cov_21me65nwnd.f[3]++;var gen=(cov_21me65nwnd.s[12]++,fn.apply(self,args));function _next(value){cov_21me65nwnd.f[4]++;cov_21me65nwnd.s[13]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){cov_21me65nwnd.f[5]++;cov_21me65nwnd.s[14]++;asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}cov_21me65nwnd.s[15]++;_next(undefined);});};}function _classCallCheck(instance,Constructor){cov_21me65nwnd.f[6]++;cov_21me65nwnd.s[16]++;if(!(instance instanceof Constructor)){cov_21me65nwnd.b[1][0]++;cov_21me65nwnd.s[17]++;throw new TypeError("Cannot call a class as a function");}else{cov_21me65nwnd.b[1][1]++;}}function _defineProperties(target,props){cov_21me65nwnd.f[7]++;cov_21me65nwnd.s[18]++;for(var i=(cov_21me65nwnd.s[19]++,0);i<props.length;i++){var descriptor=(cov_21me65nwnd.s[20]++,props[i]);cov_21me65nwnd.s[21]++;descriptor.enumerable=(cov_21me65nwnd.b[2][0]++,descriptor.enumerable)||(cov_21me65nwnd.b[2][1]++,false);cov_21me65nwnd.s[22]++;descriptor.configurable=true;cov_21me65nwnd.s[23]++;if("value"in descriptor){cov_21me65nwnd.b[3][0]++;cov_21me65nwnd.s[24]++;descriptor.writable=true;}else{cov_21me65nwnd.b[3][1]++;}cov_21me65nwnd.s[25]++;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){cov_21me65nwnd.f[8]++;cov_21me65nwnd.s[26]++;if(protoProps){cov_21me65nwnd.b[4][0]++;cov_21me65nwnd.s[27]++;_defineProperties(Constructor.prototype,protoProps);}else{cov_21me65nwnd.b[4][1]++;}cov_21me65nwnd.s[28]++;if(staticProps){cov_21me65nwnd.b[5][0]++;cov_21me65nwnd.s[29]++;_defineProperties(Constructor,staticProps);}else{cov_21me65nwnd.b[5][1]++;}cov_21me65nwnd.s[30]++;return Constructor;}var jwt=(cov_21me65nwnd.s[31]++,require('jsonwebtoken'));var bcrypt=(cov_21me65nwnd.s[32]++,require('bcrypt'));//var Caterer = require'../models/caterer';
var secret=(cov_21me65nwnd.s[33]++,require("../db/jwt_secret"));var CatererController=(/*#__PURE__*/cov_21me65nwnd.s[34]++,function(){cov_21me65nwnd.f[9]++;function CatererController(){cov_21me65nwnd.f[10]++;cov_21me65nwnd.s[35]++;_classCallCheck(this,CatererController);}cov_21me65nwnd.s[36]++;_createClass(CatererController,null,[{key:"registerCaterer",value:function(){cov_21me65nwnd.f[11]++;var _registerCaterer=(cov_21me65nwnd.s[37]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(req,res){cov_21me65nwnd.f[12]++;var _req$body,name,email,password,hash,caterer,safeCaterer,jwtToken;cov_21me65nwnd.s[38]++;return regeneratorRuntime.wrap(function _callee$(_context){cov_21me65nwnd.f[13]++;cov_21me65nwnd.s[39]++;while(1){cov_21me65nwnd.s[40]++;switch(_context.prev=_context.next){case 0:cov_21me65nwnd.b[6][0]++;cov_21me65nwnd.s[41]++;_context.prev=0;cov_21me65nwnd.s[42]++;_req$body=req.body,name=_req$body.name,email=_req$body.email,password=_req$body.password;cov_21me65nwnd.s[43]++;_context.next=4;cov_21me65nwnd.s[44]++;return bcrypt.hash(password,10);case 4:cov_21me65nwnd.b[6][1]++;cov_21me65nwnd.s[45]++;hash=_context.sent;cov_21me65nwnd.s[46]++;_context.next=7;cov_21me65nwnd.s[47]++;return Caterer.create({name:name,email:email,password:hash});case 7:cov_21me65nwnd.b[6][2]++;cov_21me65nwnd.s[48]++;caterer=_context.sent;cov_21me65nwnd.s[49]++;safeCaterer={id:2,name:caterer.name,email:caterer.email};cov_21me65nwnd.s[50]++;jwtToken=jwt.sign({caterer:safeCaterer,isCaterer:true},secret,{expiresIn:86400});cov_21me65nwnd.s[51]++;return _context.abrupt("return",res.status(201).json({status:'success',message:'Caterer Registered',token:"Bearer ".concat(jwtToken),caterer:safeCaterer}));case 13:cov_21me65nwnd.b[6][3]++;cov_21me65nwnd.s[52]++;_context.prev=13;cov_21me65nwnd.s[53]++;_context.t0=_context["catch"](0);cov_21me65nwnd.s[54]++;return _context.abrupt("return",res.status(500).json({status:'error',message:_context.t0.message}));case 16:cov_21me65nwnd.b[6][4]++;case"end":cov_21me65nwnd.b[6][5]++;cov_21me65nwnd.s[55]++;return _context.stop();}}},_callee,this,[[0,13]]);})));function registerCaterer(_x,_x2){cov_21me65nwnd.f[14]++;cov_21me65nwnd.s[56]++;return _registerCaterer.apply(this,arguments);}cov_21me65nwnd.s[57]++;return registerCaterer;}()},{key:"loginCaterer",value:function(){cov_21me65nwnd.f[15]++;var _loginCaterer=(cov_21me65nwnd.s[58]++,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(req,res){cov_21me65nwnd.f[16]++;var _req$body2,email,password,caterer,result,safeCaterer,jwtToken;cov_21me65nwnd.s[59]++;return regeneratorRuntime.wrap(function _callee2$(_context2){cov_21me65nwnd.f[17]++;cov_21me65nwnd.s[60]++;while(1){cov_21me65nwnd.s[61]++;switch(_context2.prev=_context2.next){case 0:cov_21me65nwnd.b[7][0]++;cov_21me65nwnd.s[62]++;_context2.prev=0;cov_21me65nwnd.s[63]++;_req$body2=req.body,email=_req$body2.email,password=_req$body2.password;cov_21me65nwnd.s[64]++;_context2.next=4;cov_21me65nwnd.s[65]++;return Caterer.findOne({where:{email:email}});case 4:cov_21me65nwnd.b[7][1]++;cov_21me65nwnd.s[66]++;caterer=_context2.sent;cov_21me65nwnd.s[67]++;if(caterer){cov_21me65nwnd.b[8][0]++;cov_21me65nwnd.s[68]++;_context2.next=7;cov_21me65nwnd.s[69]++;break;}else{cov_21me65nwnd.b[8][1]++;}cov_21me65nwnd.s[70]++;throw new Error('Caterer with that email does not exist');case 7:cov_21me65nwnd.b[7][2]++;cov_21me65nwnd.s[71]++;_context2.next=9;cov_21me65nwnd.s[72]++;return bcrypt.compare(password,caterer.password);case 9:cov_21me65nwnd.b[7][3]++;cov_21me65nwnd.s[73]++;result=_context2.sent;cov_21me65nwnd.s[74]++;if(result){cov_21me65nwnd.b[9][0]++;cov_21me65nwnd.s[75]++;_context2.next=12;cov_21me65nwnd.s[76]++;break;}else{cov_21me65nwnd.b[9][1]++;}cov_21me65nwnd.s[77]++;throw new Error("Password doesn't match our records");case 12:cov_21me65nwnd.b[7][4]++;cov_21me65nwnd.s[78]++;safeCaterer={id:caterer.id,name:caterer.name,email:caterer.email};cov_21me65nwnd.s[79]++;jwtToken=jwt.sign({caterer:safeCaterer,isCaterer:true},secret,{expiresIn:86400});cov_21me65nwnd.s[80]++;return _context2.abrupt("return",res.status(200).json({status:'success',message:'Caterer Logged In',token:"Bearer ".concat(jwtToken),user:safeCaterer}));case 17:cov_21me65nwnd.b[7][5]++;cov_21me65nwnd.s[81]++;_context2.prev=17;cov_21me65nwnd.s[82]++;_context2.t0=_context2["catch"](0);cov_21me65nwnd.s[83]++;return _context2.abrupt("return",res.status(500).json({status:'error',message:_context2.t0.message}));case 20:cov_21me65nwnd.b[7][6]++;case"end":cov_21me65nwnd.b[7][7]++;cov_21me65nwnd.s[84]++;return _context2.stop();}}},_callee2,this,[[0,17]]);})));function loginCaterer(_x3,_x4){cov_21me65nwnd.f[18]++;cov_21me65nwnd.s[85]++;return _loginCaterer.apply(this,arguments);}cov_21me65nwnd.s[86]++;return loginCaterer;}()}]);cov_21me65nwnd.s[87]++;return CatererController;}());cov_21me65nwnd.s[88]++;module.exports=CatererController;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhdGVyZXJDb250cm9sbGVycy5qcyJdLCJuYW1lcyI6WyJqd3QiLCJyZXF1aXJlIiwiYmNyeXB0Iiwic2VjcmV0IiwiQ2F0ZXJlckNvbnRyb2xsZXIiLCJyZXEiLCJyZXMiLCJib2R5IiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJoYXNoIiwiQ2F0ZXJlciIsImNyZWF0ZSIsImNhdGVyZXIiLCJzYWZlQ2F0ZXJlciIsImlkIiwiand0VG9rZW4iLCJzaWduIiwiaXNDYXRlcmVyIiwiZXhwaXJlc0luIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ0b2tlbiIsImZpbmRPbmUiLCJ3aGVyZSIsIkVycm9yIiwiY29tcGFyZSIsInJlc3VsdCIsInVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxHQUFHLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQWpCOztBQUNBLElBQUlDLE1BQU0sR0FBR0QsT0FBTyxDQUFDLFFBQUQsQ0FBcEIsQyxDQUNBOzs7QUFDQSxJQUFJRSxNQUFNLEdBQUdGLE9BQU8sQ0FBQyxrQkFBRCxDQUFwQjs7SUFFTUcsaUI7Ozs7Ozs7Ozs7OzsrQ0FDMkJDLEcsRUFBS0MsRzs7Ozs7Ozs7NEJBTXRCRCxHQUFHLENBQUNFLEksRUFITkMsSSxhQUFBQSxJLEVBQ0FDLEssYUFBQUEsSyxFQUNBQyxRLGFBQUFBLFE7O3VCQUVpQlIsTUFBTSxDQUFDUyxJQUFQLENBQVlELFFBQVosRUFBc0IsRUFBdEIsQzs7O0FBQWJDLGdCQUFBQSxJOzt1QkFDZ0JDLE9BQU8sQ0FBQ0MsTUFBUixDQUFlO0FBQ25DTCxrQkFBQUEsSUFBSSxFQUFKQSxJQURtQztBQUVuQ0Msa0JBQUFBLEtBQUssRUFBTEEsS0FGbUM7QUFHbkNDLGtCQUFBQSxRQUFRLEVBQUVDO0FBSHlCLGlCQUFmLEM7OztBQUFoQkcsZ0JBQUFBLE87QUFLQUMsZ0JBQUFBLFcsR0FBYztBQUNoQkMsa0JBQUFBLEVBQUUsRUFBRSxDQURZO0FBRWhCUixrQkFBQUEsSUFBSSxFQUFFTSxPQUFPLENBQUNOLElBRkU7QUFHaEJDLGtCQUFBQSxLQUFLLEVBQUVLLE9BQU8sQ0FBQ0w7QUFIQyxpQjtBQU1kUSxnQkFBQUEsUSxHQUFXakIsR0FBRyxDQUFDa0IsSUFBSixDQUFTO0FBQUVKLGtCQUFBQSxPQUFPLEVBQUVDLFdBQVg7QUFBd0JJLGtCQUFBQSxTQUFTLEVBQUU7QUFBbkMsaUJBQVQsRUFBb0RoQixNQUFwRCxFQUE0RDtBQUN6RWlCLGtCQUFBQSxTQUFTLEVBQUU7QUFEOEQsaUJBQTVELEM7aURBR1ZkLEdBQUcsQ0FBQ2UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCRCxrQkFBQUEsTUFBTSxFQUFFLFNBRGdCO0FBRXhCRSxrQkFBQUEsT0FBTyxFQUFFLG9CQUZlO0FBR3hCQyxrQkFBQUEsS0FBSyxtQkFBWVAsUUFBWixDQUhtQjtBQUl4Qkgsa0JBQUFBLE9BQU8sRUFBRUM7QUFKZSxpQkFBckIsQzs7Ozs7aURBT0FULEdBQUcsQ0FBQ2UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCRCxrQkFBQUEsTUFBTSxFQUFFLE9BRGdCO0FBRXhCRSxrQkFBQUEsT0FBTyxFQUFFLFlBQUlBO0FBRlcsaUJBQXJCLEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztnREFPV2xCLEcsRUFBS0MsRzs7Ozs7Ozs7NkJBRUtELEdBQUcsQ0FBQ0UsSSxFQUF4QkUsSyxjQUFBQSxLLEVBQU9DLFEsY0FBQUEsUTs7dUJBQ09FLE9BQU8sQ0FBQ2EsT0FBUixDQUFnQjtBQUFFQyxrQkFBQUEsS0FBSyxFQUFFO0FBQUVqQixvQkFBQUEsS0FBSyxFQUFMQTtBQUFGO0FBQVQsaUJBQWhCLEM7OztBQUFoQkssZ0JBQUFBLE87O29CQUNEQSxPOzs7OztzQkFDSyxJQUFJYSxLQUFKLENBQVUsd0NBQVYsQzs7Ozt1QkFFV3pCLE1BQU0sQ0FBQzBCLE9BQVAsQ0FBZWxCLFFBQWYsRUFBeUJJLE9BQU8sQ0FBQ0osUUFBakMsQzs7O0FBQWZtQixnQkFBQUEsTTs7b0JBQ0RBLE07Ozs7O3NCQUNLLElBQUlGLEtBQUosQ0FBVSxvQ0FBVixDOzs7QUFFSlosZ0JBQUFBLFcsR0FBYztBQUNoQkMsa0JBQUFBLEVBQUUsRUFBRUYsT0FBTyxDQUFDRSxFQURJO0FBRWhCUixrQkFBQUEsSUFBSSxFQUFFTSxPQUFPLENBQUNOLElBRkU7QUFHaEJDLGtCQUFBQSxLQUFLLEVBQUVLLE9BQU8sQ0FBQ0w7QUFIQyxpQjtBQU1kUSxnQkFBQUEsUSxHQUFXakIsR0FBRyxDQUFDa0IsSUFBSixDQUFTO0FBQUVKLGtCQUFBQSxPQUFPLEVBQUVDLFdBQVg7QUFBd0JJLGtCQUFBQSxTQUFTLEVBQUU7QUFBbkMsaUJBQVQsRUFBb0RoQixNQUFwRCxFQUE0RDtBQUN6RWlCLGtCQUFBQSxTQUFTLEVBQUU7QUFEOEQsaUJBQTVELEM7a0RBR1ZkLEdBQUcsQ0FBQ2UsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQ3hCRCxrQkFBQUEsTUFBTSxFQUFFLFNBRGdCO0FBRXhCRSxrQkFBQUEsT0FBTyxFQUFFLG1CQUZlO0FBR3hCQyxrQkFBQUEsS0FBSyxtQkFBWVAsUUFBWixDQUhtQjtBQUl4QmEsa0JBQUFBLElBQUksRUFBRWY7QUFKa0IsaUJBQXJCLEM7Ozs7O2tEQU9BVCxHQUFHLENBQUNlLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUN4QkQsa0JBQUFBLE1BQU0sRUFBRSxPQURnQjtBQUV4QkUsa0JBQUFBLE9BQU8sRUFBRSxhQUFJQTtBQUZXLGlCQUFyQixDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbkJRLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjVCLGlCQUFqQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9teGFiYS9EZXNrdG9wL015LU1lYWwtQXBwLWRldmVsb3Avc2VydmVyL3NyYy9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbInZhciBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcbnZhciBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHQnKTtcbi8vdmFyIENhdGVyZXIgPSByZXF1aXJlJy4uL21vZGVscy9jYXRlcmVyJztcbnZhciBzZWNyZXQgPSByZXF1aXJlKFwiLi4vZGIvand0X3NlY3JldFwiKTtcblxuY2xhc3MgQ2F0ZXJlckNvbnRyb2xsZXIge1xuICAgIHN0YXRpYyBhc3luYyByZWdpc3RlckNhdGVyZXIocmVxLCByZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgIHBhc3N3b3JkXG4gICAgICAgICAgICB9ID0gcmVxLmJvZHk7XG4gICAgICAgICAgICBjb25zdCBoYXNoID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGNhdGVyZXIgPSBhd2FpdCBDYXRlcmVyLmNyZWF0ZSh7XG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBzYWZlQ2F0ZXJlciA9IHtcbiAgICAgICAgICAgICAgICBpZDogMixcbiAgICAgICAgICAgICAgICBuYW1lOiBjYXRlcmVyLm5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IGNhdGVyZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgand0VG9rZW4gPSBqd3Quc2lnbih7IGNhdGVyZXI6IHNhZmVDYXRlcmVyLCBpc0NhdGVyZXI6IHRydWUgfSwgc2VjcmV0LCB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiA4NjQwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDYXRlcmVyIFJlZ2lzdGVyZWQnLFxuICAgICAgICAgICAgICAgIHRva2VuOiBgQmVhcmVyICR7and0VG9rZW59YCxcbiAgICAgICAgICAgICAgICBjYXRlcmVyOiBzYWZlQ2F0ZXJlclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyLm1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGxvZ2luQ2F0ZXJlcihyZXEsIHJlcykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgY29uc3QgY2F0ZXJlciA9IGF3YWl0IENhdGVyZXIuZmluZE9uZSh7IHdoZXJlOiB7IGVtYWlsIH0gfSk7XG4gICAgICAgICAgICBpZiAoIWNhdGVyZXIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhdGVyZXIgd2l0aCB0aGF0IGVtYWlsIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgY2F0ZXJlci5wYXNzd29yZCk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhc3N3b3JkIGRvZXNuJ3QgbWF0Y2ggb3VyIHJlY29yZHNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzYWZlQ2F0ZXJlciA9IHtcbiAgICAgICAgICAgICAgICBpZDogY2F0ZXJlci5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiBjYXRlcmVyLm5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IGNhdGVyZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgand0VG9rZW4gPSBqd3Quc2lnbih7IGNhdGVyZXI6IHNhZmVDYXRlcmVyLCBpc0NhdGVyZXI6IHRydWUgfSwgc2VjcmV0LCB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiA4NjQwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdDYXRlcmVyIExvZ2dlZCBJbicsXG4gICAgICAgICAgICAgICAgdG9rZW46IGBCZWFyZXIgJHtqd3RUb2tlbn1gLFxuICAgICAgICAgICAgICAgIHVzZXI6IHNhZmVDYXRlcmVyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHN0YXR1czogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnIubWVzc2FnZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2F0ZXJlckNvbnRyb2xsZXI7XG4iXX0=