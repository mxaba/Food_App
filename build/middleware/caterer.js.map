{"version":3,"sources":["../../server/src/middleware/caterer.js"],"names":["Joi","require","UserMiddleware","CatererMiddleware","req","res","next","schema","name","string","required","email","password","min","validate","body","status","json","message","String","details","type","module","exports"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,KAAD,CAAjB;;AACA,IAAIC,cAAc,GAAGD,OAAO,CAAC,QAAD,CAA5B;;IAEME,iB;;;;;;;;;;;;;;;;+CAC4BC,G,EAAKC,G,EAAKC,I;;;;;;;AAE1BC,gBAAAA,M,GAAS;AACXC,kBAAAA,IAAI,EAAER,GAAG,CAACS,MAAJ,GAAaC,QAAb,EADK;AAEXC,kBAAAA,KAAK,EAAEX,GAAG,CAACS,MAAJ,GACFE,KADE,GAEFD,QAFE,EAFI;AAKXE,kBAAAA,QAAQ,EAAEZ,GAAG,CAACS,MAAJ,GACLI,GADK,CACD,CADC,EAELH,QAFK;AALC,iB;;uBASTV,GAAG,CAACc,QAAJ,CAAaV,GAAG,CAACW,IAAjB,EAAuBR,MAAvB,C;;;AACND,gBAAAA,IAAI;iDACG,I;;;;;iDAEAD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACxBD,kBAAAA,MAAM,EAAE,OADgB;AAExBE,kBAAAA,OAAO,EAAEC,MAAM,CAAC,YAAIC,OAAJ,CAAY,CAAZ,EAAeF,OAAhB,CAFS;AAGxBG,kBAAAA,IAAI,EAAE;AAHkB,iBAArB,C;;;;;;;;;;;;;;;;;;;EAhBanB,c;;AAyBhCoB,MAAM,CAACC,OAAP,GAAiBpB,iBAAjB","sourcesContent":["var Joi = require('joi');\nvar UserMiddleware = require('./user');\n\nclass CatererMiddleware extends UserMiddleware {\n    static async validateRegister(req, res, next) {\n        try {\n            const schema = {\n                name: Joi.string().required(),\n                email: Joi.string()\n                    .email()\n                    .required(),\n                password: Joi.string()\n                    .min(7)\n                    .required()\n            };\n            await Joi.validate(req.body, schema);\n            next();\n            return true;\n        } catch (err) {\n            return res.status(400).json({\n                status: 'error',\n                message: String(err.details[0].message),\n                type: 'validation'\n            });\n        }\n    }\n}\n\nmodule.exports = CatererMiddleware;\n"],"file":"caterer.js"}